Front-end and back-end intrusion detection based on cnn